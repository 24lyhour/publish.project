import{p as b,h as T,q as le,P as u,c as $,o as d,w as s,b as t,f as v,g as y,a as o,e as r,t as c,Q as ae,F as R,E as U,O as w}from"./app-BYXm3DgS.js";import{A as re}from"./AuthenticatedLayout-Cn07l71_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VBtn-DwUAv0Z5.js";import"./forwardRefs-B9xf3gJh.js";import"./transition-C-15aO7D.js";import"./VSelect-DhBAgf-W.js";import"./VInput-BoLSudxP.js";import"./VDialog-CozB4EGV.js";const ne={class:"min-h-screen bg-gray-50 p-6"},de={class:"mb-8"},ie={class:"flex flex-col md:flex-row md:items-center justify-between gap-6"},ue={key:0,class:"mb-6"},ce={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-800"},ve={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800"},fe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ge={class:"flex items-center gap-4"},pe={class:"text-2xl font-bold text-gray-900"},_e={class:"flex items-center gap-4"},me={class:"text-2xl font-bold text-gray-900"},ke={class:"flex items-center gap-4"},xe={class:"text-2xl font-bold text-gray-900"},he={class:"flex items-center gap-4"},we={class:"text-2xl font-bold text-gray-900"},ye={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Ce={class:"flex items-center justify-between"},be={key:0,class:"flex items-center justify-center p-8"},Me={key:1,class:"text-center p-12"},je={key:2,class:"overflow-x-auto"},Be={class:"flex items-center gap-3"},Se={class:"font-medium text-gray-900"},ze={key:0,class:"text-sm text-gray-500"},Ve={class:"max-w-48 text-sm text-gray-600 truncate"},Te={class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},He={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},Ae={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},Pe={key:2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},$e={key:0,class:"font-medium text-green-600"},Ne={key:1,class:"text-gray-400"},Le={class:"text-sm text-gray-600"},Fe={class:"flex items-center justify-end gap-1"},Oe={key:3,class:"border-t bg-gray-50 px-6 py-4"},Ie={class:"flex items-center justify-between"},De={class:"text-sm text-gray-600"},Ee={key:0,class:"flex items-center gap-2"},Re={class:"flex items-center gap-1"},Ye={__name:"Index",props:{categories:Object,filters:Object},setup(f){var L,F,O;const p=f,C=b(!1),M=b(((L=p.filters)==null?void 0:L.search)||""),j=b(((F=p.filters)==null?void 0:F.status)||""),B=b(((O=p.filters)==null?void 0:O.sort)||"created_at"),_=b(1),K=T(()=>{var l,e;return((e=(l=p.categories)==null?void 0:l.data)==null?void 0:e.filter(n=>n.status==="active").length)||0}),Z=T(()=>{var l,e;return((e=(l=p.categories)==null?void 0:l.data)==null?void 0:e.filter(n=>n.status==="draft").length)||0}),q=T(()=>{var l,e;return((e=(l=p.categories)==null?void 0:l.data)==null?void 0:e.reduce((n,i)=>n+(i.products_count||0),0))||0}),Q=T(()=>{var g;const l=((g=p.categories)==null?void 0:g.last_page)||1,e=_.value,n=2,i=[];for(let h=Math.max(2,e-n);h<=Math.min(l-1,e+n);h++)i.push(h);return e-n>2&&i.unshift("..."),e+n<l-1&&i.push("..."),i.unshift(1),l>1&&i.push(l),i.filter((h,z,V)=>V.indexOf(h)===z)}),N=()=>{w.get(route("dashboard.categories.create"))},G=l=>{w.get(route("dashboard.categories.show",l.id))},J=l=>{w.get(route("dashboard.categories.edit",l.id))},W=l=>{w.get(route("dashboard.categories.delete",l.id))},S=()=>{C.value=!0;const l={search:M.value||void 0,status:j.value||void 0,sort:B.value||void 0,page:1};Object.keys(l).forEach(e=>{l[e]===void 0&&delete l[e]}),w.get(route("dashboard.categories.index"),l,{preserveState:!0,onFinish:()=>{C.value=!1}})},X=()=>{w.reload({only:["categories"]})},H=l=>{var n;if(l==="..."||l<1||l>(((n=p.categories)==null?void 0:n.last_page)||1))return;C.value=!0,_.value=l;const e={search:M.value||void 0,status:j.value||void 0,sort:B.value||void 0,page:l};Object.keys(e).forEach(i=>{e[i]===void 0&&delete e[i]}),w.get(route("dashboard.categories.index"),e,{preserveState:!0,onFinish:()=>{C.value=!1}})};return le(()=>{var l;_.value=((l=p.categories)==null?void 0:l.current_page)||1}),(l,e)=>{const n=u("Button"),i=u("CardContent"),g=u("Card"),h=u("Input"),z=u("SelectValue"),V=u("SelectTrigger"),m=u("SelectItem"),I=u("SelectContent"),D=u("Select"),Y=u("CardTitle"),ee=u("CardHeader"),k=u("TableHead"),E=u("TableRow"),te=u("TableHeader"),x=u("TableCell"),A=u("Badge"),se=u("TableBody"),oe=u("Table");return d(),$(re,{title:"Categories"},{default:s(()=>[t("div",ne,[t("div",de,[o(g,{class:"border-0 shadow-sm"},{default:s(()=>[o(i,{class:"p-8"},{default:s(()=>[t("div",ie,[e[6]||(e[6]=t("div",{class:"flex items-center gap-6"},[t("div",{class:"bg-primary/10 p-4 rounded-xl"},[t("svg",{class:"w-10 h-10 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])]),t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Categories"),t("p",{class:"text-gray-600 mt-1"},"Organize your products with categories")])],-1)),o(n,{onClick:N,size:"lg",class:"gap-2"},{default:s(()=>e[5]||(e[5]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),r(" Add Category ")])),_:1,__:[5]})])]),_:1})]),_:1})]),l.$page.props.flash.success||l.$page.props.flash.error?(d(),v("div",ue,[l.$page.props.flash.success?(d(),v("div",ce,c(l.$page.props.flash.success),1)):y("",!0),l.$page.props.flash.error?(d(),v("div",ve,c(l.$page.props.flash.error),1)):y("",!0)])):y("",!0),t("div",fe,[o(g,null,{default:s(()=>[o(i,{class:"p-6"},{default:s(()=>{var a;return[t("div",ge,[e[8]||(e[8]=t("div",{class:"bg-blue-500 p-3 rounded-lg"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])],-1)),t("div",null,[t("div",pe,c(((a=f.categories.data)==null?void 0:a.length)||0),1),e[7]||(e[7]=t("div",{class:"text-sm text-gray-600"},"Total Categories",-1))])])]}),_:1})]),_:1}),o(g,null,{default:s(()=>[o(i,{class:"p-6"},{default:s(()=>[t("div",_e,[e[10]||(e[10]=t("div",{class:"bg-green-500 p-3 rounded-lg"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",null,[t("div",me,c(K.value),1),e[9]||(e[9]=t("div",{class:"text-sm text-gray-600"},"Active Categories",-1))])])]),_:1})]),_:1}),o(g,null,{default:s(()=>[o(i,{class:"p-6"},{default:s(()=>[t("div",ke,[e[12]||(e[12]=t("div",{class:"bg-yellow-500 p-3 rounded-lg"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])],-1)),t("div",null,[t("div",xe,c(Z.value),1),e[11]||(e[11]=t("div",{class:"text-sm text-gray-600"},"Draft Categories",-1))])])]),_:1})]),_:1}),o(g,null,{default:s(()=>[o(i,{class:"p-6"},{default:s(()=>[t("div",he,[e[14]||(e[14]=t("div",{class:"bg-purple-500 p-3 rounded-lg"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),t("div",null,[t("div",we,c(q.value),1),e[13]||(e[13]=t("div",{class:"text-sm text-gray-600"},"Total Products",-1))])])]),_:1})]),_:1})]),o(g,{class:"mb-6"},{default:s(()=>[o(i,{class:"p-6"},{default:s(()=>[t("div",ye,[t("div",null,[o(h,{modelValue:M.value,"onUpdate:modelValue":e[0]||(e[0]=a=>M.value=a),placeholder:"Search categories...",onKeyup:ae(S,["enter"]),class:"w-full"},null,8,["modelValue"])]),t("div",null,[o(D,{modelValue:j.value,"onUpdate:modelValue":[e[1]||(e[1]=a=>j.value=a),S]},{default:s(()=>[o(V,null,{default:s(()=>[o(z,{placeholder:"Filter by Status"})]),_:1}),o(I,null,{default:s(()=>[o(m,{value:"active"},{default:s(()=>e[15]||(e[15]=[r("Active")])),_:1,__:[15]}),o(m,{value:"inactive"},{default:s(()=>e[16]||(e[16]=[r("Inactive")])),_:1,__:[16]}),o(m,{value:"draft"},{default:s(()=>e[17]||(e[17]=[r("Draft")])),_:1,__:[17]})]),_:1})]),_:1},8,["modelValue"])]),t("div",null,[o(D,{modelValue:B.value,"onUpdate:modelValue":[e[2]||(e[2]=a=>B.value=a),S]},{default:s(()=>[o(V,null,{default:s(()=>[o(z,{placeholder:"Sort by"})]),_:1}),o(I,null,{default:s(()=>[o(m,{value:"name"},{default:s(()=>e[18]||(e[18]=[r("Name (A-Z)")])),_:1,__:[18]}),o(m,{value:"name_desc"},{default:s(()=>e[19]||(e[19]=[r("Name (Z-A)")])),_:1,__:[19]}),o(m,{value:"created_at"},{default:s(()=>e[20]||(e[20]=[r("Newest First")])),_:1,__:[20]}),o(m,{value:"created_at_asc"},{default:s(()=>e[21]||(e[21]=[r("Oldest First")])),_:1,__:[21]}),o(m,{value:"products_count"},{default:s(()=>e[22]||(e[22]=[r("Most Products")])),_:1,__:[22]})]),_:1})]),_:1},8,["modelValue"])]),t("div",null,[o(n,{onClick:S,variant:"outline",class:"w-full gap-2"},{default:s(()=>e[23]||(e[23]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 2v-6.586a1 1 0 00-.293-.707L3.293 7.121A1 1 0 013 6.414V4z"})],-1),r(" Filter ")])),_:1,__:[23]})])])]),_:1})]),_:1}),o(g,null,{default:s(()=>[o(ee,{class:"pb-4"},{default:s(()=>[t("div",Ce,[o(Y,{class:"flex items-center gap-2"},{default:s(()=>e[24]||(e[24]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1),r(" Categories List ")])),_:1,__:[24]}),o(n,{onClick:X,variant:"outline",size:"sm",class:"gap-2"},{default:s(()=>e[25]||(e[25]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),r(" Refresh ")])),_:1,__:[25]})])]),_:1}),o(i,{class:"p-0"},{default:s(()=>[C.value?(d(),v("div",be,e[26]||(e[26]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):!f.categories.data||f.categories.data.length===0?(d(),v("div",Me,[e[28]||(e[28]=t("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),e[29]||(e[29]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No categories found",-1)),e[30]||(e[30]=t("p",{class:"text-gray-600 mb-4"},"Start by creating your first category",-1)),o(n,{onClick:N,class:"gap-2"},{default:s(()=>e[27]||(e[27]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),r(" Create Category ")])),_:1,__:[27]})])):(d(),v("div",je,[o(oe,null,{default:s(()=>[o(te,null,{default:s(()=>[o(E,null,{default:s(()=>[o(k,null,{default:s(()=>e[31]||(e[31]=[r("Category")])),_:1,__:[31]}),o(k,null,{default:s(()=>e[32]||(e[32]=[r("Description")])),_:1,__:[32]}),o(k,null,{default:s(()=>e[33]||(e[33]=[r("Menu")])),_:1,__:[33]}),o(k,null,{default:s(()=>e[34]||(e[34]=[r("Products")])),_:1,__:[34]}),o(k,null,{default:s(()=>e[35]||(e[35]=[r("Status")])),_:1,__:[35]}),o(k,null,{default:s(()=>e[36]||(e[36]=[r("Sale Price")])),_:1,__:[36]}),o(k,null,{default:s(()=>e[37]||(e[37]=[r("Created")])),_:1,__:[37]}),o(k,{class:"text-right"},{default:s(()=>e[38]||(e[38]=[r("Actions")])),_:1,__:[38]})]),_:1})]),_:1}),o(se,null,{default:s(()=>[(d(!0),v(R,null,U(f.categories.data,a=>(d(),$(E,{key:a.id,class:"hover:bg-gray-50"},{default:s(()=>[o(x,null,{default:s(()=>[t("div",Be,[e[39]||(e[39]=t("div",{class:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])],-1)),t("div",null,[t("div",Se,c(a.name),1),a.type?(d(),v("div",ze,c(a.type),1)):y("",!0)])])]),_:2},1024),o(x,null,{default:s(()=>[t("div",Ve,c(a.shortDescription),1)]),_:2},1024),o(x,null,{default:s(()=>[o(A,{variant:a.menu?"default":"secondary",class:"gap-1"},{default:s(()=>[e[40]||(e[40]=t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),r(" "+c(a.menuName),1)]),_:2,__:[40]},1032,["variant"])]),_:2},1024),o(x,null,{default:s(()=>[o(A,{variant:a.products_count>0?"default":"secondary",class:"gap-1"},{default:s(()=>[e[41]||(e[41]=t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)),r(" "+c(a.products_count),1)]),_:2,__:[41]},1032,["variant"])]),_:2},1024),o(x,null,{default:s(()=>[o(A,{variant:a.status==="active"?"default":a.status==="draft"?"secondary":"destructive",class:"gap-1"},{default:s(()=>[(d(),v("svg",Te,[a.status==="active"?(d(),v("path",He)):a.status==="draft"?(d(),v("path",Ae)):(d(),v("path",Pe))])),r(" "+c(a.status),1)]),_:2},1032,["variant"])]),_:2},1024),o(x,null,{default:s(()=>[a.price_sale&&a.price_sale!=="0.00"?(d(),v("div",$e,c(a.formattedPriceSale),1)):(d(),v("span",Ne,"—"))]),_:2},1024),o(x,null,{default:s(()=>[t("div",Le,c(a.created_at_formatted),1)]),_:2},1024),o(x,{class:"text-right"},{default:s(()=>[t("div",Fe,[o(n,{onClick:P=>G(a),variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:s(()=>e[42]||(e[42]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])),_:2,__:[42]},1032,["onClick"]),o(n,{onClick:P=>J(a),variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:s(()=>e[43]||(e[43]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2,__:[43]},1032,["onClick"]),o(n,{onClick:P=>W(a),variant:"ghost",size:"sm",class:"h-8 w-8 p-0 text-red-600 hover:text-red-700"},{default:s(()=>e[44]||(e[44]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])),_:2,__:[44]},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])),f.categories.data&&f.categories.data.length>0?(d(),v("div",Oe,[t("div",Ie,[t("div",De," Showing "+c(f.categories.from||0)+" to "+c(f.categories.to||0)+" of "+c(f.categories.total||0)+" entries ",1),f.categories.last_page>1?(d(),v("div",Ee,[o(n,{onClick:e[3]||(e[3]=a=>H(_.value-1)),disabled:_.value<=1,variant:"outline",size:"sm"},{default:s(()=>e[45]||(e[45]=[r(" Previous ")])),_:1,__:[45]},8,["disabled"]),t("div",Re,[(d(!0),v(R,null,U(Q.value,a=>(d(),$(n,{key:a,onClick:P=>H(a),variant:a===_.value?"default":"outline",size:"sm",class:"w-8"},{default:s(()=>[r(c(a),1)]),_:2},1032,["onClick","variant"]))),128))]),o(n,{onClick:e[4]||(e[4]=a=>H(_.value+1)),disabled:_.value>=f.categories.last_page,variant:"outline",size:"sm"},{default:s(()=>e[46]||(e[46]=[r(" Next ")])),_:1,__:[46]},8,["disabled"])])):y("",!0)])])):y("",!0)]),_:1})]),_:1})])]),_:1})}}};export{Ye as default};
