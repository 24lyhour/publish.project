import{p as m,h as _,y as ve,c as I,o as n,w as i,b as e,a as s,e as r,f as v,g as O,t as o,F as P,E as F,O as f}from"./app-DiTBgEXn.js";import{V as W,A as me}from"./AuthenticatedLayout-Dx44wE8D.js";import{_ as pe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as _e}from"./VInput-BNoWCzEd.js";import{V as c,a as u,o as fe}from"./VBtn-oJZI8mVv.js";import{V as X}from"./VAlert-ywWixTOD.js";import{V as Y,a as p}from"./VRow-CnjWRrop.js";import{V as ge,a as S,c as $}from"./VSelect-D3zE1sZW.js";import{V as Z}from"./VSkeletonLoader-zsOO_4Z9.js";import{a as ee,V as ye}from"./forwardRefs-8bZGAmKV.js";import"./VDialog-DMeWZwFg.js";import"./transition-CVqlMDGm.js";/* empty css              */const he={class:"products-page"},ke={class:"page-header"},Ve={class:"header-content"},be={class:"header-info"},Ce={class:"header-icon"},ze={key:0,class:"alerts-container"},$e={class:"stats-section"},we={class:"stat-card"},Pe={class:"stat-icon primary"},Fe={class:"stat-content"},Se={class:"stat-value"},xe={class:"stat-card"},Te={class:"stat-icon success"},Ue={class:"stat-content"},Ae={class:"stat-value"},Ie={class:"stat-card"},Oe={class:"stat-icon warning"},De={class:"stat-content"},Ne={class:"stat-value"},je={class:"stat-card"},Be={class:"stat-icon info"},Le={class:"stat-content"},qe={class:"stat-value"},Ee={class:"filters-section"},Me={class:"filters-header"},Re={class:"filters-title"},Ge={class:"filters-content"},He={class:"products-section"},Qe={class:"products-header"},Je={class:"products-info"},Ke={class:"products-title"},We={class:"view-controls"},Xe={key:0,class:"products-grid"},Ye={class:"product-image"},Ze={class:"image-placeholder"},et={class:"product-actions"},tt={class:"product-content"},st={class:"product-badges"},at={class:"product-name"},lt={class:"product-description"},it={class:"product-meta"},ot={class:"product-category"},rt={class:"product-id"},nt={key:2,class:"empty-state"},dt={class:"empty-icon"},ct={key:1,class:"products-list"},ut={class:"list-item-avatar"},vt={class:"list-item-content"},mt={class:"list-item-header"},pt={class:"list-item-title"},_t={class:"list-item-badges"},ft={class:"list-item-description"},gt={class:"list-item-meta"},yt={class:"meta-item"},ht={class:"meta-item"},kt={class:"meta-item"},Vt={class:"list-item-actions"},bt={key:2,class:"empty-state"},Ct={class:"empty-icon"},zt={__name:"Index",props:{products:Object,categories:Array,filters:Object},setup(te){var R,G,H,Q,J,K;const d=te,g=m(((R=d.filters)==null?void 0:R.search)||""),y=m(((G=d.filters)==null?void 0:G.price_range)||null),h=m(((H=d.filters)==null?void 0:H.category_id)||null),k=m(((Q=d.filters)==null?void 0:Q.status)||null),V=m(((J=d.filters)==null?void 0:J.sort)||"name"),x=m(((K=d.filters)==null?void 0:K.direction)==="desc"),w=m(!1),T=m("grid"),se=[{title:"Under $10",value:"under-10"},{title:"$10 - $50",value:"10-50"},{title:"$50 - $100",value:"50-100"},{title:"$100 - $500",value:"100-500"},{title:"Over $500",value:"over-500"}],ae=[{title:"Name",value:"name"},{title:"Price",value:"price"},{title:"Date Created",value:"created_at"}],le=[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],ie=_(()=>d.categories?d.categories.map(l=>({title:l.name,value:l.id})):[]),b=_(()=>{var l;return((l=d.products.data)==null?void 0:l.length)||0}),oe=_(()=>b.value?(d.products.data.reduce((t,a)=>t+parseFloat(a.price),0)/b.value).toFixed(2):"0.00"),re=_(()=>b.value?Math.max(...d.products.data.map(l=>parseFloat(l.price))).toFixed(2):"0.00"),ne=_(()=>b.value?Math.min(...d.products.data.map(l=>parseFloat(l.price))).toFixed(2):"0.00"),C=_(()=>d.products.data||[]),U=m(null),de=()=>{const l={search:g.value,category_id:h.value,price_range:y.value,status:k.value,sort:V.value,direction:x.value?"desc":"asc"};Object.keys(l).forEach(t=>{l[t]||delete l[t]}),f.get(route("products.index"),l,{preserveState:!0,preserveScroll:!0})};ve([g,h,y,k,V,x],()=>{U.value&&clearTimeout(U.value),w.value=!0,U.value=setTimeout(()=>{de(),setTimeout(()=>{w.value=!1},500)},300)});const ce=l=>new Date(l).toLocaleDateString(),D=l=>parseFloat(l).toFixed(2),N=(l,t)=>l&&l.length>t?l.substring(0,t)+"...":l,j=l=>l>100?"error":l>50?"warning":l>10?"primary":"success",B=l=>l<=0?"Out of Stock":l<10?"Low Stock":"In Stock",L=l=>l<=0?"error":l<10?"warning":"success",A=()=>{g.value="",y.value=null,h.value=null,k.value=null,V.value="name",x.value=!1,f.get(route("products.index"),{},{preserveState:!0,preserveScroll:!0})},ue=()=>{f.get(route("products.create"))},q=l=>{f.get(route("products.show",l.id))},E=l=>{f.get(route("products.edit",l.id))},M=l=>{f.get(route("products.delete",l.id))};return(l,t)=>(n(),I(me,{title:"Products"},{default:i(()=>[e("div",he,[e("div",ke,[e("div",Ve,[e("div",be,[e("div",Ce,[s(c,{icon:"mdi-package-variant-closed",size:"40",color:"primary"})]),t[6]||(t[6]=e("div",null,[e("h1",{class:"page-title"},"Products"),e("p",{class:"page-subtitle"},"Manage your product inventory with ease")],-1))]),s(u,{color:"primary",size:"large",variant:"elevated",class:"create-btn",onClick:ue},{default:i(()=>[s(c,{start:""},{default:i(()=>t[7]||(t[7]=[r("mdi-plus")])),_:1,__:[7]}),t[8]||(t[8]=r(" Add Product "))]),_:1,__:[8]})])]),s(_e,null,{default:i(()=>[l.$page.props.flash.success||l.$page.props.flash.error?(n(),v("div",ze,[l.$page.props.flash.success?(n(),I(X,{key:0,type:"success",variant:"tonal",prominent:"",closable:"",class:"alert-success"},{default:i(()=>[r(o(l.$page.props.flash.success),1)]),_:1})):O("",!0),l.$page.props.flash.error?(n(),I(X,{key:1,type:"error",variant:"tonal",prominent:"",closable:"",class:"alert-error"},{default:i(()=>[r(o(l.$page.props.flash.error),1)]),_:1})):O("",!0)])):O("",!0)]),_:1}),e("div",$e,[s(Y,null,{default:i(()=>[s(p,{cols:"12",sm:"6",md:"3"},{default:i(()=>[e("div",we,[e("div",Pe,[s(c,{icon:"mdi-package-variant",size:"24"})]),e("div",Fe,[e("div",Se,o(b.value),1),t[9]||(t[9]=e("div",{class:"stat-label"},"Total Products",-1))])])]),_:1}),s(p,{cols:"12",sm:"6",md:"3"},{default:i(()=>[e("div",xe,[e("div",Te,[s(c,{icon:"mdi-currency-usd",size:"24"})]),e("div",Ue,[e("div",Ae,"$"+o(oe.value),1),t[10]||(t[10]=e("div",{class:"stat-label"},"Average Price",-1))])])]),_:1}),s(p,{cols:"12",sm:"6",md:"3"},{default:i(()=>[e("div",Ie,[e("div",Oe,[s(c,{icon:"mdi-trending-up",size:"24"})]),e("div",De,[e("div",Ne,"$"+o(re.value),1),t[11]||(t[11]=e("div",{class:"stat-label"},"Highest Price",-1))])])]),_:1}),s(p,{cols:"12",sm:"6",md:"3"},{default:i(()=>[e("div",je,[e("div",Be,[s(c,{icon:"mdi-trending-down",size:"24"})]),e("div",Le,[e("div",qe,"$"+o(ne.value),1),t[12]||(t[12]=e("div",{class:"stat-label"},"Lowest Price",-1))])])]),_:1})]),_:1})]),e("div",Ee,[e("div",Me,[e("h3",Re,[s(c,{icon:"mdi-filter-variant",class:"me-2"}),t[13]||(t[13]=r(" Filters & Search "))]),s(u,{variant:"text",size:"small",onClick:A,class:"clear-btn"},{default:i(()=>[s(c,{start:""},{default:i(()=>t[14]||(t[14]=[r("mdi-refresh")])),_:1,__:[14]}),t[15]||(t[15]=r(" Clear All "))]),_:1,__:[15]})]),e("div",Ge,[s(Y,null,{default:i(()=>[s(p,{cols:"12",md:"4"},{default:i(()=>[s(ge,{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=a=>g.value=a),label:"Search products...","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"comfortable",clearable:"","hide-details":"",class:"search-field"},null,8,["modelValue"])]),_:1}),s(p,{cols:"12",md:"2"},{default:i(()=>[s(S,{modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=a=>h.value=a),items:ie.value,label:"Category",variant:"outlined",density:"comfortable",clearable:"","hide-details":""},null,8,["modelValue","items"])]),_:1}),s(p,{cols:"12",md:"2"},{default:i(()=>[s(S,{modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=a=>y.value=a),items:se,label:"Price Range",variant:"outlined",density:"comfortable",clearable:"","hide-details":""},null,8,["modelValue"])]),_:1}),s(p,{cols:"12",md:"2"},{default:i(()=>[s(S,{modelValue:k.value,"onUpdate:modelValue":t[3]||(t[3]=a=>k.value=a),items:le,label:"Status",variant:"outlined",density:"comfortable",clearable:"","hide-details":""},null,8,["modelValue"])]),_:1}),s(p,{cols:"12",md:"2"},{default:i(()=>[s(S,{modelValue:V.value,"onUpdate:modelValue":t[4]||(t[4]=a=>V.value=a),items:ae,label:"Sort by",variant:"outlined",density:"comfortable","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})])]),e("div",He,[e("div",Qe,[e("div",Je,[e("h3",Ke,[s(c,{icon:"mdi-view-grid",class:"me-2"}),t[16]||(t[16]=r(" Products "))]),s($,{color:"primary",size:"small",variant:"tonal"},{default:i(()=>[r(o(C.value.length)+" items ",1)]),_:1})]),e("div",We,[s(fe,{modelValue:T.value,"onUpdate:modelValue":t[5]||(t[5]=a=>T.value=a),variant:"outlined",density:"comfortable"},{default:i(()=>[s(u,{value:"grid",icon:"mdi-view-grid",size:"small"},{default:i(()=>[s(W,{activator:"parent"},{default:i(()=>t[17]||(t[17]=[r("Grid View")])),_:1,__:[17]})]),_:1}),s(u,{value:"list",icon:"mdi-view-list",size:"small"},{default:i(()=>[s(W,{activator:"parent"},{default:i(()=>t[18]||(t[18]=[r("List View")])),_:1,__:[18]})]),_:1})]),_:1},8,["modelValue"])])]),T.value==="grid"?(n(),v("div",Xe,[w.value?(n(),v(P,{key:0},F(8,a=>e("div",{key:a,class:"product-skeleton"},[s(Z,{type:"card"})])),64)):C.value.length?(n(!0),v(P,{key:1},F(C.value,a=>(n(),v("div",{key:a.id,class:"product-card"},[e("div",Ye,[s(ee,{src:a.imageUrl||"/placeholder.jpg",alt:a.name,"aspect-ratio":"1",cover:""},{placeholder:i(()=>[e("div",Ze,[s(c,{icon:"mdi-package-variant",size:"40",color:"grey-lighten-2"})])]),_:2},1032,["src","alt"]),e("div",et,[s(u,{icon:"mdi-eye",size:"small",variant:"elevated",onClick:z=>q(a)},null,8,["onClick"]),s(u,{icon:"mdi-pencil",size:"small",variant:"elevated",color:"primary",onClick:z=>E(a)},null,8,["onClick"]),s(u,{icon:"mdi-delete",size:"small",variant:"elevated",color:"error",onClick:z=>M(a)},null,8,["onClick"])])]),e("div",tt,[e("div",st,[s($,{color:L(a.quantity||0),size:"x-small",variant:"flat",class:"stock-badge"},{default:i(()=>[r(o(B(a.quantity||0)),1)]),_:2},1032,["color"]),s($,{color:j(a.price),size:"x-small",variant:"flat",class:"price-badge"},{default:i(()=>[r(" $"+o(D(a.price)),1)]),_:2},1032,["color"])]),e("h4",at,o(a.name),1),e("p",lt,o(N(a.description,60)),1),e("div",it,[e("span",ot,o(a.category||"Uncategorized"),1),e("span",rt,"ID: "+o(a.id),1)])])]))),128)):(n(),v("div",nt,[e("div",dt,[s(c,{icon:"mdi-package-variant-closed",size:"80",color:"grey-lighten-2"})]),t[20]||(t[20]=e("h3",{class:"empty-title"},"No Products Found",-1)),t[21]||(t[21]=e("p",{class:"empty-description"},"Try adjusting your search or filters",-1)),s(u,{color:"primary",onClick:A},{default:i(()=>t[19]||(t[19]=[r("Clear Filters")])),_:1,__:[19]})]))])):(n(),v("div",ct,[w.value?(n(),v(P,{key:0},F(6,a=>e("div",{key:a,class:"list-skeleton"},[s(Z,{type:"list-item-avatar-two-line"})])),64)):C.value.length?(n(!0),v(P,{key:1},F(C.value,a=>(n(),v("div",{key:a.id,class:"product-list-item"},[e("div",ut,[s(ye,{size:"60",rounded:"lg"},{default:i(()=>[s(ee,{src:a.imageUrl||"/placeholder.jpg",alt:a.name},{placeholder:i(()=>[s(c,{icon:"mdi-package-variant",size:"30",color:"grey-lighten-2"})]),_:2},1032,["src","alt"])]),_:2},1024)]),e("div",vt,[e("div",mt,[e("h4",pt,o(a.name),1),e("div",_t,[s($,{color:j(a.price),size:"small",variant:"flat",class:"price-chip"},{default:i(()=>[r(" $"+o(D(a.price)),1)]),_:2},1032,["color"]),s($,{color:L(a.quantity||0),size:"small",variant:"tonal"},{default:i(()=>[r(o(B(a.quantity||0)),1)]),_:2},1032,["color"])])]),e("p",ft,o(N(a.description,100)),1),e("div",gt,[e("span",yt,"Category: "+o(a.category||"Uncategorized"),1),e("span",ht,"ID: "+o(a.id),1),e("span",kt,"Created: "+o(ce(a.created_at)),1)])]),e("div",Vt,[s(u,{icon:"mdi-eye",size:"small",variant:"text",onClick:z=>q(a)},null,8,["onClick"]),s(u,{icon:"mdi-pencil",size:"small",variant:"text",color:"primary",onClick:z=>E(a)},null,8,["onClick"]),s(u,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:z=>M(a)},null,8,["onClick"])])]))),128)):(n(),v("div",bt,[e("div",Ct,[s(c,{icon:"mdi-package-variant-closed",size:"80",color:"grey-lighten-2"})]),t[23]||(t[23]=e("h3",{class:"empty-title"},"No Products Found",-1)),t[24]||(t[24]=e("p",{class:"empty-description"},"Try adjusting your search or filters",-1)),s(u,{color:"primary",onClick:A},{default:i(()=>t[22]||(t[22]=[r("Clear Filters")])),_:1,__:[22]})]))]))])])]),_:1}))}},jt=pe(zt,[["__scopeId","data-v-d8d56ecb"]]);export{jt as default};
